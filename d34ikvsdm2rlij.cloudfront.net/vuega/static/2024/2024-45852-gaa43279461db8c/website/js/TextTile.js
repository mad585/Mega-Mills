import{F as se,c as ie,h as ne,i as le,j as oe,k as ae,t as re,l as b,m as ue,n as v}from"./website.js";import{_ as ce}from"./TileTitle.vue_vue_type_script_setup_true_lang.js";import{c as de,r as j,e as i,o as fe,I as Te,f as be,L as G,j as r,g,K as ve,k as z,P as ge,Q as pe,R as p,l as he,p as Se,m as c,q as h,v as me}from"./vendor.js";function ye(e){switch(e){case"TITLE_LEFT":return"title-left";case"SUBTITLE_RIGHT":return"subtitle-right";case"ONE_COLUMN":return"one-column";case"TWO_COLUMNS":return"two-columns";case"CENTER":return"center";case"DESCRIPTION_RIGHT":return"description-right";default:return"title-left"}}function _e(e,u){let o=[...ue(e.general),...v("title",e.title),...v("description",e.description)];return u&&(o=[...o,...v("subtitle",e.subtitle)]),o}function Ce(e){return e==="ONE_COLUMN"||e==="TITLE_LEFT"||e==="SUBTITLE_RIGHT"||e==="TWO_COLUMNS"||e==="CENTER"}const ke=de({components:{FontLoader:se,TileTitle:ce},props:{content:{required:!0,type:Object},design:{required:!0,type:Object},viewportSettings:{required:!0,type:Object},isFirstTileWithTitle:{required:!0,type:Boolean},isBackgroundSamePrev:{required:!0,type:Boolean}},emits:["tile-loaded","tile-unloaded"],setup(e,{attrs:u,emit:o}){const S=ie(),d=j(),{windowScrollTop:m,subscribeOnWindowScrollChange:f}=ne(),{tileOffsetTop:T,tileOffsetHeight:K,subscribeOnTileOffsetChange:Q}=le(d),A=i(()=>`ins-tile--${ye(e.design.layout)}`),a=i(()=>oe(e.design.layout)),l=i(()=>{var O,N,E,L,R,I,$,B,D,F,V,U,W,q,H,M,P;const t=e.design,n={...(O=a.value)==null?void 0:O.general,...t.general,background:{...(E=(N=a.value)==null?void 0:N.general)==null?void 0:E.background,...(L=t.general)==null?void 0:L.background,solid:{...($=(I=(R=a.value)==null?void 0:R.general)==null?void 0:I.background)==null?void 0:$.solid,...(D=(B=t.general)==null?void 0:B.background)==null?void 0:D.solid},gradient:{...(U=(V=(F=a.value)==null?void 0:F.general)==null?void 0:V.background)==null?void 0:U.gradient,...(q=(W=t.general)==null?void 0:W.background)==null?void 0:q.gradient}}},s={...(H=a.value)==null?void 0:H.title,...t.title},ee={...(M=a.value)==null?void 0:M.subtitle,...t.subtitle},te={...(P=a.value)==null?void 0:P.description,...t.description};return{layout:t.layout,general:n,title:s,subtitle:ee,description:te}}),J=j(!1),X=i(()=>ae(J,e.viewportSettings,m.value,T.value,K.value)),Y=i(()=>{var t,n,s;return[(t=l.value.title)==null?void 0:t.font,(n=l.value.subtitle)==null?void 0:n.font,(s=l.value.description)==null?void 0:s.font]}),y=i(()=>Ce(l.value.layout)),Z=i(()=>{const t=_e(l.value,y.value);return re(`#${u.id}`,t)}),_=i(()=>{var s;const t=(s=l.value.title)==null?void 0:s.visible,n=b(e.content.title);return t&&n}),C=i(()=>{var s;const t=(s=l.value.subtitle)==null?void 0:s.visible,n=b(e.content.subtitle);return t&&n}),k=i(()=>{var s;const t=(s=l.value.description)==null?void 0:s.visible,n=b(e.content.description);return t&&n}),w=S.isPreviewMode,x=i(()=>w||_.value||C.value||k.value);return fe(()=>{o("tile-loaded"),f(),Q()}),Te(()=>{o("tile-unloaded")}),{tileRef:d,layoutClass:A,fonts:Y,styleSelector:Z,hasTitle:_,hasSubtitle:C,layoutHasSubtitle:y,hasDescription:k,isPreview:w,isTileShown:X,tileNeedRender:x}}}),we=ke,Oe=["aria-label"],Ne={class:"ins-tile__wrap ins-tile__animated"},Ee=["textContent"],Le=["textContent"];function Re(e,u,o,S,d,m){const f=G("FontLoader"),T=G("TileTitle");return e.tileNeedRender?(r(),g("div",{key:0,ref:"tileRef",role:"region","aria-label":e.content.title||e.content.subtitle,class:me(["ins-tile","ins-tile--text",e.layoutClass,{"ins-tile--shown":e.isTileShown},{"ins-tile--same-prev-background":e.isBackgroundSamePrev}])},[ve(f,{fonts:e.fonts},null,8,["fonts"]),(r(),z(he("style"),null,{default:ge(()=>[pe(p(e.styleSelector),1)]),_:1})),Se("div",Ne,[e.hasTitle?(r(),z(T,{key:0,class:"ins-tile__title",title:e.content.title,"is-first-tile-with-title":e.isFirstTileWithTitle},null,8,["title","is-first-tile-with-title"])):c("",!0),e.hasSubtitle&&e.layoutHasSubtitle?(r(),g("div",{key:1,role:"heading","aria-level":"2",class:"ins-tile__subtitle ins-tile__format",textContent:p(e.content.subtitle)},null,8,Ee)):c("",!0),e.hasDescription?(r(),g("div",{key:2,class:"ins-tile__description ins-tile__format",textContent:p(e.content.description)},null,8,Le)):c("",!0)]),h(e.$slots,"hover-label"),h(e.$slots,"hovered-border"),h(e.$slots,"selected-border")],10,Oe)):c("",!0)}const De=be(we,[["render",Re]]);export{De as default};
