import{F as be,u as pe,c as Ae,b as Te,h as Ce,i as Se,K as _e,k as we,t as Oe,l as Y,q as se,W as Ie,p as Fe,r as Be,v as Ne,M as A,m as Re,n as K,x as le,w as He,N as ge,I as f,z as ce,B as ue,C as de,O as Me}from"./website.js";import{A as Pe}from"./website-icons.js";import{A as Ue}from"./ActionLink.js";import{_ as $e}from"./TileTitle.vue_vue_type_script_setup_true_lang.js";import{_ as Ge}from"./PictureContainer.vue_vue_type_script_setup_true_lang.js";import{c as We,r as _,e as i,o as Ve,I as qe,f as De,L as N,j as h,g as k,K as X,k as j,P as ze,Q as Xe,R as Z,l as je,v as R,a5 as Qe,m as E,p as x,q as J}from"./vendor.js";function Ye(e){switch(e){case"FULLSCREEN_CENTER":return"fullscreen-center";case"FULLSCREEN_LEFT":return"fullscreen-left";case"FULLSCREEN_CENTER_LEFT":return"fullscreen-center-left";case"FULLSCREEN_RIGHT":return"fullscreen-right";case"FULLSCREEN_BOTTOM":return"fullscreen-bottom";case"FULLSCREEN_BOTTOM_RIGHT":return"fullscreen-bottom-right";case"FULLSCREEN_BOTTOM_LEFT":return"fullscreen-bottom-left";case"FULLSCREEN_TOP":return"fullscreen-top";case"SIDEBAR_RIGHT":return"sidebar-right";case"SIDEBAR_LEFT":return"sidebar-left";case"HALFSCREEN_LEFT":return"halfscreen-left";case"HALFSCREEN_CENTER":return"halfscreen-center";case"COLLAGE_BOTTOM":return"collage-bottom";case"COLLAGE_LEFT":return"collage-left";default:return"fullscreen-center"}}function Ke(e,n,t,o){if(!(e==="COLLAGE_BOTTOM"||e==="COLLAGE_LEFT")&&!t)switch(n){case A.NONE:return;case A.PARALLAX:return"ins-tile__background--parallax";case A.FIXED:return o?void 0:"ins-tile__background--fixed";case A.ZOOM_OUT:return"ins-tile__background--scale";default:return}}function Ze(e,n,t){const o=n/t;switch(e){case"HALFSCREEN_LEFT":case"HALFSCREEN_CENTER":return o*2;default:return o}}function Je(e,n,t,o){const s=n??0,l=t??0,c=o??0,d=c/4,m=-Ze(e,c,4),v=(s-l)/4;return{transform:`translateY(${Math.min(d,Math.max(m,v))}px)`}}function xe(e,n,t){const o=e??0,a=n??0,s=t??0,l=s/.12,c=1.3,d=1,m=1-(o-a-s)/l;return{transform:`scale(${Math.min(c,Math.max(d,m))})`}}function en(e,n,t,o,a,s){if(!(typeof document>"u")&&!s&&!(e==="COLLAGE_BOTTOM"||e==="COLLAGE_LEFT"))switch(n){case A.PARALLAX:return Je(e,t,o,a);case A.ZOOM_OUT:return xe(t,o,a);default:return}}function nn(e,n){var b,p,H,M,P,u,w,U,$,G,W,V,O,q,T,C,S,I,F,D;const t={...n==null?void 0:n.general,...e.general,background:{...(b=n==null?void 0:n.general)==null?void 0:b.background,...(p=e.general)==null?void 0:p.background,solid:{...(M=(H=n==null?void 0:n.general)==null?void 0:H.background)==null?void 0:M.solid,...(u=(P=e.general)==null?void 0:P.background)==null?void 0:u.solid},gradient:{...(U=(w=n==null?void 0:n.general)==null?void 0:w.background)==null?void 0:U.gradient,...(G=($=e.general)==null?void 0:$.background)==null?void 0:G.gradient}}},o={...n==null?void 0:n.tagline,...e.tagline},a={...n==null?void 0:n.headline,...e.headline},s={...n==null?void 0:n.description,...e.description},l={...n==null?void 0:n.primaryActionLink,...e.primaryActionLink},c={...n==null?void 0:n.secondaryActionLink,...e.secondaryActionLink},d={...n==null?void 0:n.mobileView,...e.mobileView},m={...n==null?void 0:n.image,...e.image,overlay:{...(W=n==null?void 0:n.image)==null?void 0:W.overlay,...(V=e.image)==null?void 0:V.overlay,solid:{...(q=(O=n==null?void 0:n.image)==null?void 0:O.overlay)==null?void 0:q.solid,...(C=(T=e.image)==null?void 0:T.overlay)==null?void 0:C.solid},gradient:{...(I=(S=n==null?void 0:n.image)==null?void 0:S.overlay)==null?void 0:I.gradient,...(D=(F=e.image)==null?void 0:F.overlay)==null?void 0:D.gradient}}},v={...n==null?void 0:n.arrow,...e.arrow},L={...n==null?void 0:n.sidebar,...e.sidebar};return{layout:e.layout,general:t,tagline:o,headline:a,description:s,primaryActionLink:l,secondaryActionLink:c,mobileView:d,image:m,arrow:v,sidebar:L}}function tn(e){let n=[];return(e==null?void 0:e.color)!==void 0&&(n=[...n,...de("--arrow-color",e.color)]),n}function on(e){let n=[];return(e==null?void 0:e.color)!==void 0&&(n=[...n,...de("--sidebar-solid-color",e.color)]),n}function rn(e,n){let t=[...Re(e.general),...K("tagline",e.tagline),...K("headline",e.headline),...K("description",e.description),...le("primary-button",e.primaryActionLink),...le("secondary-button",e.secondaryActionLink),...He("image",e.image),...on(e.sidebar)];return n&&(t=[...t,...tn(e.arrow)]),t}function an(e,n,t,o){const a=e??0,s=n??0,l=t??0,c=o??0;if(!a||!l)return[];const d=l/a,m=c/s;let v=a,L=s,b=0,p=0;return d<m?(L=c/d,p=(s-L)/2):(v=l/m,b=(a-v)/2),[{key:"--background-size-x",value:`${v+1}px`},{key:"--background-size-y",value:`${L+1}px`},{key:"--background-position-x",value:`${b-.5}px`},{key:"--background-position-y",value:`${p-.5}px`}]}function sn(e,n,t,o){var a,s,l,c;return n===A.FIXED&&!ge()?an(t,o,(s=(a=e==null?void 0:e.set)==null?void 0:a["default-1200x1200"])==null?void 0:s.width,(c=(l=e==null?void 0:e.set)==null?void 0:l["default-1200x1200"])==null?void 0:c.height):[]}function ln(e){const n=_(0),t=_(0);function o(){e.value===void 0||e.value===null||(n.value=e.value.offsetWidth,t.value=e.value.offsetHeight)}function a(){const s=Me(o,120);window.addEventListener("resize",s),o()}return{bgContainerWidth:n,bgContainerHeight:t,subscribeOnBackgroundOffsetChange:a}}function cn(e){function n(){if(e.value===void 0)return;const t=e.value.offsetTop,o=e.value.offsetHeight;window.scrollTo({top:t+o,behavior:"smooth"})}return n}function un(e){switch(e){case"COLLAGE_BOTTOM":case"COLLAGE_LEFT":return!0;default:return!1}}function gn(e){switch(e){case"FULLSCREEN_CENTER":case"FULLSCREEN_CENTER_LEFT":case"FULLSCREEN_RIGHT":return!0;default:return!1}}function dn(){return[{thumbnail:f.url200,image1x:f.url1200,image2x:f.url1200},{thumbnail:f.url200,image1x:f.url600,image2x:f.url1200,breakpointMediaQuery:ce(ue.S)},{thumbnail:f.url200,image1x:f.url2000,image2x:f.url2000,breakpointMediaQuery:ce(ue.L)}]}const mn=We({components:{ArrowDownIcon:Pe,FontLoader:be,ActionLink:Ue,TileTitle:$e,PictureContainer:Ge},props:{tileId:{required:!0,type:String},tileType:{required:!1,default:void 0,type:String},content:{required:!0,type:Object},design:{required:!0,type:Object},viewportSettings:{required:!0,type:Object},isFirstTileWithTitle:{required:!0,type:Boolean},isBackgroundSamePrev:{required:!0,type:Boolean},tileIndexInList:{required:!1,default:null,type:Number}},emits:["tile-loaded","tile-unloaded"],setup(e,{attrs:n,emit:t}){const o=pe(),a=Ae(),s=Te(o.$state),l=_(),c=_(),{windowScrollTop:d,subscribeOnWindowScrollChange:m}=Ce(),{tileOffsetTop:v,tileOffsetHeight:L,subscribeOnTileOffsetChange:b}=Se(l),{bgContainerWidth:p,bgContainerHeight:H,subscribeOnBackgroundOffsetChange:M}=ln(c),P=i(()=>`ins-tile--${Ye(e.design.layout)}`),u=i(()=>{const r=_e(e.design.layout);return nn(e.design,r)}),w=_(!1),U=()=>{w.value=ge()},$=_(!1),G=i(()=>we($,e.viewportSettings,d.value,v.value,L.value)),W=i(()=>{var r,g,y,B,ae;return[(r=u.value.tagline)==null?void 0:r.font,(g=u.value.headline)==null?void 0:g.font,(y=u.value.description)==null?void 0:y.font,(B=u.value.primaryActionLink)==null?void 0:B.font,(ae=u.value.secondaryActionLink)==null?void 0:ae.font]}),V=i(()=>un(e.design.layout)),O=i(()=>gn(e.design.layout)),q=i(()=>{var g;let r=[];return r=[...rn(u.value,O.value),...sn(e.content.image,(g=u.value.image)==null?void 0:g.scrollEffect,p.value,H.value)],Oe(`#${n.id}`,r)}),T=i(()=>{var y;const r=(y=u.value.tagline)==null?void 0:y.visible,g=Y(e.content.tagline);return r&&g}),C=i(()=>{var y;const r=(y=u.value.headline)==null?void 0:y.visible,g=Y(e.content.headline);return r&&g}),S=i(()=>{var y;const r=(y=u.value.description)==null?void 0:y.visible,g=Y(e.content.description);return r&&g}),I=i(()=>e.content.image!==void 0),F=i(()=>{var g;return((g=u.value.arrow)==null?void 0:g.visible)&&O.value}),D=cn(l),ee=i(()=>e.content.primaryActionLink),ne=i(()=>u.value.primaryActionLink),te=i(()=>e.content.secondaryActionLink),ie=i(()=>u.value.secondaryActionLink),oe=a.isPreviewMode,Q=i(()=>{const r=se(ee,ne),g=se(te,ie);return r||g}),z=i(()=>{var B;const r=e.design.layout!=="COLLAGE_BOTTOM"&&e.design.layout!=="COLLAGE_LEFT"&&e.design.layout!=="SIDEBAR_LEFT"&&e.design.layout!=="SIDEBAR_RIGHT",g=(B=e.design.mobileView)==null?void 0:B.adaptiveCover,y=e.viewportSettings.width!==void 0&&e.viewportSettings.width<Ie;return g&&y&&r}),me=i(()=>!z.value||C.value||T.value||S.value||Q.value),ve=i(()=>{var r;return Ke(e.design.layout,(r=u.value.image)==null?void 0:r.scrollEffect,z.value,w.value)}),ye=i(()=>{var r;return en(e.design.layout,(r=u.value.image)==null?void 0:r.scrollEffect,d.value,v.value,L.value,z.value)}),re=i(()=>Fe(e.tileId,"image")),he=i(()=>re.value!==void 0),Le=i(()=>Be(re.value,e.content.image)),Ee=i(()=>dn()),fe=i(()=>oe||T.value||C.value||S.value||I.value||Q.value||F);Ve(()=>{t("tile-loaded"),m(),b(),M(),U()}),qe(()=>{t("tile-unloaded")});const ke=Ne(e.tileIndexInList);return{i18n:s,tileRef:l,bgContainerRef:c,layoutClass:P,fonts:W,styleSelector:q,hasTagline:T,hasHeadline:C,hasDescription:S,hasImage:I,layoutHasInlineImage:V,hasAnyActionLink:Q,hasArrow:F,performArrowAction:D,primaryActionLinkContent:ee,primaryActionLinkDesign:ne,secondaryActionLinkContent:te,secondaryActionLinkDesign:ie,isAdaptiveCover:z,isPreview:oe,isShowTileTextContent:me,scrollEffectClass:ve,scrollEffectStyle:ye,isUploadingImage:he,isTileShown:G,tileNeedRender:fe,imageSet:Le,imageBreakpointSet:Ee,getAndAssignFetchPriority:ke}}}),vn=mn,yn=["aria-label"],hn={key:1,class:"ins-tile__wrap ins-tile__animated"},Ln={key:0,role:"heading","aria-level":"2",class:"ins-tile__tagline"},En={class:"ins-tile__footer"},fn=["textContent"],kn={key:1,class:"ins-tile__buttons"},bn=x("div",{class:"ins-tile__spacer"},null,-1),pn={key:3,class:"ins-tile__arrow"},An=["aria-label"];function Tn(e,n,t,o,a,s){const l=N("FontLoader"),c=N("PictureContainer"),d=N("TileTitle"),m=N("ActionLink"),v=N("ArrowDownIcon");return e.tileNeedRender?(h(),k("div",{key:0,ref:"tileRef",role:"region","aria-label":e.content.headline,class:R(["ins-tile","ins-tile--cover",e.layoutClass,{"ins-tile--adaptive":e.isAdaptiveCover&&e.hasImage},{"ins-tile--shown":e.isTileShown},{"ins-tile--same-prev-background":e.isBackgroundSamePrev}])},[X(l,{fonts:e.fonts},null,8,["fonts"]),(h(),j(je("style"),null,{default:ze(()=>[Xe(Z(e.styleSelector),1)]),_:1})),e.layoutHasInlineImage?E("",!0):(h(),k("div",{key:0,ref:"bgContainerRef",class:R(["ins-tile__background",e.scrollEffectClass])},[e.hasImage||e.isUploadingImage?(h(),j(c,{key:0,"image-set":e.imageSet,"image-breakpoint-set":e.imageBreakpointSet,"use-background-layout":!e.isAdaptiveCover,class:R({"ins-tile__image":!0,"ins-tile__image--loading":e.isUploadingImage}),"fetch-priority":e.getAndAssignFetchPriority(),style:Qe([e.scrollEffectStyle])},null,8,["image-set","image-breakpoint-set","use-background-layout","class","fetch-priority","style"])):E("",!0)],2)),e.isShowTileTextContent?(h(),k("div",hn,[e.hasTagline?(h(),k("div",Ln,Z(e.content.tagline),1)):E("",!0),e.layoutHasInlineImage?(h(),k("div",{key:1,class:R(["ins-tile__background",e.scrollEffectClass])},[e.hasImage||e.isUploadingImage?(h(),j(c,{key:0,"image-set":e.imageSet,"image-breakpoint-set":e.imageBreakpointSet,"use-background-layout":!e.isAdaptiveCover,class:R({"ins-tile__image":!0,"ins-tile__image--loading":e.isUploadingImage})},null,8,["image-set","image-breakpoint-set","use-background-layout","class"])):E("",!0)],2)):E("",!0),e.hasHeadline?(h(),j(d,{key:2,class:"ins-tile__headline",title:e.content.headline,"is-first-tile-with-title":e.isFirstTileWithTitle},null,8,["title","is-first-tile-with-title"])):E("",!0),x("div",En,[e.hasDescription?(h(),k("div",{key:0,class:"ins-tile__description ins-tile__format",textContent:Z(e.content.description)},null,8,fn)):E("",!0),e.hasAnyActionLink?(h(),k("div",kn,[X(m,{content:e.primaryActionLinkContent,design:e.primaryActionLinkDesign,"preview-mode":e.isPreview,class:"ins-tile__button ins-tile__button--primary"},null,8,["content","design","preview-mode"]),X(m,{content:e.secondaryActionLinkContent,design:e.secondaryActionLinkDesign,"preview-mode":e.isPreview,class:"ins-tile__button ins-tile__button--secondary"},null,8,["content","design","preview-mode"])])):E("",!0)]),bn,e.hasArrow?(h(),k("div",pn,[x("div",{role:"button","aria-label":e.i18n("Cover.NextTab.Icon.ADA.context"),tabindex:"0",class:"ins-tile__arrow-inner",onClick:n[0]||(n[0]=(...L)=>e.performArrowAction&&e.performArrowAction(...L))},[X(v)],8,An)])):E("",!0)])):E("",!0),J(e.$slots,"hover-label"),J(e.$slots,"hovered-border"),J(e.$slots,"selected-border")],10,yn)):E("",!0)}const Fn=De(vn,[["render",Tn]]);export{Fn as default};
